{% extends "base.html" %}
{% block body %}
<div class="navbar" id="navbar">
    <button class="menu-btn" id="menuBtn" onclick="toggleSidebar()" aria-label="Menu">
        <span class="menu-icon">&#9776;</span>
    </button>
    <span class="nav-title">Edit Expense</span>
</div>
<nav class="sidebar" id="sidebar" aria-label="Sidebar">
    <div class="slogo">ðŸ’° Budget Tracker</div>
    <a href="/" class="slink">Dashboard</a>
    <a href="/reset_password" class="slink">Reset Password</a>
    <a href="/logout" class="logout slink">Logout</a>
</nav>
<div class="main-content" id="main-content">
    <div class="card" style="max-width:430px;margin:auto;">
        <h2>Edit Expense</h2>
        {% if error %}
            <div style="color:#fb6868;margin-bottom:.8rem;">{{ error }}</div>
        {% endif %}
        <form method="POST" action="{{ url_for('edit_expense', id=expense.id) }}">
            <select name="category" class="input-dark category-select" required style="width:100%;padding:10px;margin-bottom:10px;">
                <option value="">Select Category</option>
                {% for cat in categories %}
                <option value="{{cat}}" {% if expense.category == cat %}selected{% endif %}>{{cat}}</option>
                {% endfor %}
            </select>
            <input name="amount" class="input-dark" type="number" step="0.01" min="0" value="{{expense.amount}}" required style="width:100%;padding:10px;margin-bottom:10px;">
            <input name="description" class="input-dark" type="text" maxlength="100" value="{{expense.description or ''}}" placeholder="Description (memo)" style="width:100%;padding:10px;margin-bottom:10px;">
            <button type="submit" class="btn-main" style="width:100%;">Save Changes</button>
            <a href="/" class="btn-secondary" style="width:100%;margin-top:10px;display:inline-block;text-align:center;">Cancel</a>
        </form>
    </div>
</div>
<script>
    // Mobile sidebar
    let sidebarOpen = false;
    function toggleSidebar() {
        sidebarOpen = !sidebarOpen;
        document.getElementById('sidebar').classList.toggle('open', sidebarOpen);
    }
</script>
{% endblock %}

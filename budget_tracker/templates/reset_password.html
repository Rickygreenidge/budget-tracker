{% extends "base.html" %}
{% block body %}
<div class="navbar" id="navbar">
    <button class="menu-btn" id="menuBtn" onclick="toggleSidebar()" aria-label="Menu">
        <span class="menu-icon">&#9776;</span>
    </button>
    <span class="nav-title">Reset Password</span>
</div>
<nav class="sidebar" id="sidebar" aria-label="Sidebar">
    <div class="slogo">ðŸ’° Budget Tracker</div>
    <a href="/" class="slink">Dashboard</a>
    <a href="/reset_password" class="slink active">Reset Password</a>
    <a href="/logout" class="logout slink">Logout</a>
</nav>
<div class="main-content" id="main-content">
    <div class="card" style="max-width:430px;margin:auto;">
        <h2>Reset Password</h2>
        {% if error %}
            <div style="color:#fb6868;margin-bottom:.8rem;">{{ error }}</div>
        {% endif %}
        {% if message %}
            <div style="color:#44d964;margin-bottom:.8rem;">{{ message }}</div>
        {% endif %}
        <form method="POST" action="{{ url_for('reset_password') }}">
            <input class="input-dark" type="password" name="old_password" placeholder="Current Password" required style="width:100%;padding:10px;margin-bottom:10px;">
            <input class="input-dark" type="password" name="new_password" placeholder="New Password" required style="width:100%;padding:10px;margin-bottom:10px;">
            <input class="input-dark" type="password" name="confirm_password" placeholder="Confirm New Password" required style="width:100%;padding:10px;margin-bottom:10px;">
            <button type="submit" class="btn-main" style="width:100%;">Update Password</button>
        </form>
    </div>
</div>
<script>
    // Mobile sidebar
    let sidebarOpen = false;
    function toggleSidebar() {
        sidebarOpen = !sidebarOpen;
        document.getElementById('sidebar').classList.toggle('open', sidebarOpen);
    }
</script>
{% endblock %}
